"use strict";
module.exports = static_module_target;






var util = require("../util");

var protobuf = require("../..");

static_module_target.description = "Static code without reflection as a module";

function static_module_target(root, options, callback) {
    require("./static")(root, options, function(err, output) {
        if (err) {
            callback(err);
            return;
        }
        try {
            output = util.wrap(output, protobuf.util.merge({ dependency: "@apollo/protobufjs/minimal" }, options));
        } catch (e) {
            callback(e);
            return;
        }
        callback(null, output);
    });
}
